{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASC,cAAc,yBA0BxC,SAASE,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFT,EAAAa,OAAOC,QAAQ,qBAAqBP,QAAeC,OAEnDR,EAAAa,OAAOE,QAAQ,oBAAoBR,QAAeC,MAAU,GAE7DA,E,CAjCLN,EAAKc,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBACJb,EAASc,aAAa,WAAY,YAElC,MACEC,UAAUZ,MAAEA,EAAKa,KAAEA,EAAIC,OAAEA,IACvBL,EAAIM,cACR,IAAIC,EAAUC,OAAOjB,EAAMkB,OACvBC,EAASF,OAAOJ,EAAKK,OACrBE,EAAWH,OAAOH,EAAOI,OACzBG,EAAaL,EAAUG,EAASC,EAEpC,GAAIJ,EAAU,GAAKG,EAAS,GAAKC,EAAW,EAE1C,YADA5B,EAAAa,OAAOE,QAAQ,YAGjB,IAAK,IAAIR,EAAW,EAAGA,GAAYqB,EAAUrB,GAAY,EACvDiB,GAAWG,EACXrB,EAAcC,EAAUiB,GAeXM,EAbPD,EAcRjB,YAAW,KACTP,EAAS0B,gBAAgB,YACzB7B,EAAK8B,OAAO,GACXF,GAJL,IAAiBA,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst startBtn = document.querySelector('button[type=\"submit\"]');\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  startBtn.setAttribute('disabled', 'disabled');\n\n  const {\n    elements: { delay, step, amount },\n  } = evt.currentTarget;\n  let delayEl = Number(delay.value);\n  let stepEl = Number(step.value);\n  let amountEl = Number(amount.value);\n  let totalDelay = delayEl + stepEl * amountEl;\n\n  if (delayEl < 0 || stepEl < 0 || amountEl < 0) {\n    Notify.failure('Alert!!!');\n    return;\n  }\n  for (let position = 1; position <= amountEl; position += 1) {\n    delayEl += stepEl;\n    createPromise(position, delayEl);\n  }\n  showBtn(totalDelay);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => {\n    if (shouldResolve) {\n      Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    } else {\n      Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    }\n  }, delay);\n}\nfunction showBtn(total) {\n  setTimeout(() => {\n    startBtn.removeAttribute('disabled');\n    form.reset();\n  }, total);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$startBtn","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","setTimeout","Notify","success","failure","addEventListener","evt","preventDefault","setAttribute","elements","step","amount","currentTarget","delayEl","Number","value","stepEl","amountEl","totalDelay","total","removeAttribute","reset"],"version":3,"file":"03-promises.815593ae.js.map"}