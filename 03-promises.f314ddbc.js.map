{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAC9BC,EAAWF,SAASC,cAAc,yBA0BxC,SAASE,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFT,EAAAa,OAAOC,QAAQ,qBAAoCC,OAAfR,EAAS,QAAYQ,OAANP,EAAM,OAEzDR,EAAAa,OAAOG,QAAQ,oBAAmCD,OAAfR,EAAS,QAAYQ,OAANP,EAAM,M,GAEzDA,E,CAjCLN,EAAKe,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBACJd,EAASe,aAAa,WAAY,YAElC,IAEqBC,EAAjBH,EAAII,cADNC,SAAYf,EAAKa,EAALb,MAAOgB,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OAEvBC,EAAUC,OAAOnB,EAAMoB,OACvBC,EAASF,OAAOH,EAAKI,OACrBE,EAAWH,OAAOF,EAAOG,OACzBG,EAAaL,EAAUG,EAASC,EAEpC,GAAIJ,EAAU,GAAKG,EAAS,GAAKC,EAAW,EAE1C,YADA9B,EAAAa,OAAOG,QAAQ,YAGjB,IAAK,IAAIT,EAAW,EAAGA,GAAYuB,EAAUvB,GAAY,EAEvDD,EAAcC,EADdmB,GAAWG,GAgBEG,EAbPD,EAcRnB,YAAW,WACTP,EAAS4B,gBAAgB,YACzB/B,EAAKgC,O,GACJF,GAJL,IAAiBA,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('.form');\nconst startBtn = document.querySelector('button[type=\"submit\"]');\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  startBtn.setAttribute('disabled', 'disabled');\n\n  const {\n    elements: { delay, step, amount },\n  } = evt.currentTarget;\n  let delayEl = Number(delay.value);\n  let stepEl = Number(step.value);\n  let amountEl = Number(amount.value);\n  let totalDelay = delayEl + stepEl * amountEl;\n\n  if (delayEl < 0 || stepEl < 0 || amountEl < 0) {\n    Notify.failure('Alert!!!');\n    return;\n  }\n  for (let position = 1; position <= amountEl; position += 1) {\n    delayEl += stepEl;\n    createPromise(position, delayEl);\n  }\n  showBtn(totalDelay);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => {\n    if (shouldResolve) {\n      Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    } else {\n      Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    }\n  }, delay);\n}\nfunction showBtn(total) {\n  setTimeout(() => {\n    startBtn.removeAttribute('disabled');\n    form.reset();\n  }, total);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$startBtn","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","setTimeout","Notify","success","concat","failure","addEventListener","evt","preventDefault","setAttribute","_elements","currentTarget","elements","step","amount","delayEl","Number","value","stepEl","amountEl","totalDelay","total","removeAttribute","reset"],"version":3,"file":"03-promises.f314ddbc.js.map"}